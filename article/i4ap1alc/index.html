<!doctype html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.20" /><meta name="theme" content="VuePress Theme Plume " /><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = um === 'dark' || (um !== 'light' && sm);document.documentElement.dataset.theme = isDark ? 'dark' : 'light';})();</script><meta property="og:url" content="https://blog.gaohan.asia/article/i4ap1alc/"><meta property="og:site_name" content="云泽汇码"><meta property="og:title" content="自动化性能监控系统安装部署"><meta property="og:description" content="Grafana + Prometheus（普罗米修斯）实现系统性能的监控 此处讲述监控redis、mysql、java服务 自动化性能监控系统安装部署 相关工具的安装部署 服务工具分配 简单介绍下上面几个工具的用途，redis和mysql就不用过多介绍了，是平常开发过程中的常用的中间件。 grafana主要是可视化展示界面，和预警通知工具，用来展示被监..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2026-02-12T02:07:17.000Z"><meta property="article:tag" content="手册"><meta property="article:tag" content="Grafana"><meta property="article:tag" content="Prometheus"><meta property="article:modified_time" content="2026-02-12T02:07:17.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"自动化性能监控系统安装部署","image":[""],"dateModified":"2026-02-12T02:07:17.000Z","author":[]}</script><link rel="icon" type="images/png" href="https://blog.gaohan.asia/plume.png"><meta name="msvalidate.01" content="0508C8F9658C27122ABCB4C8941A68F7"><meta name="algolia-site-verification" content="8FA462C6B921A60E"><script>
          var _hmt = _hmt || [];
          (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?6271af65cdb8a84803fa4410d26c0764";
            var s = document.getElementsByTagName("script")[0]; 
            s.parentNode.insertBefore(hm, s);
          })();
      </script><title>自动化性能监控系统安装部署 | 云泽汇码</title><meta name="description" content="Grafana + Prometheus（普罗米修斯）实现系统性能的监控 此处讲述监控redis、mysql、java服务 自动化性能监控系统安装部署 相关工具的安装部署 服务工具分配 简单介绍下上面几个工具的用途，redis和mysql就不用过多介绍了，是平常开发过程中的常用的中间件。 grafana主要是可视化展示界面，和预警通知工具，用来展示被监..."><link rel="preload" href="/assets/style-BECUVKJa.css" as="style"><link rel="stylesheet" href="/assets/style-BECUVKJa.css"><link rel="modulepreload" href="/assets/app-Cx_oisp2.js"><link rel="modulepreload" href="/assets/index.html-QQVqB1wV.js"></head><body><div id="app"><!--[--><!--[--><div class="theme-plume vp-layout" vp-container data-v-0f45c45d><!--[--><!--[--><!--]--><!--[--><span tabindex="-1" data-v-be5bdb30></span><a href="#VPContent" class="vp-skip-link visually-hidden" data-v-be5bdb30> Skip to content </a><!--]--><!----><header class="vp-nav" data-v-0f45c45d data-v-fa6bad2d><div class="vp-navbar" vp-navbar data-v-fa6bad2d data-v-b88a6553><div class="wrapper" data-v-b88a6553><div class="container" data-v-b88a6553><div class="title" data-v-b88a6553><div class="vp-navbar-title" data-v-b88a6553 data-v-9c0ce884><a class="vp-link no-icon link title" href="/" data-v-9c0ce884 data-v-3a9f60f0><!--[--><!--[--><!--]--><!--[--><!--[--><!--[--><img class="vp-image dark logo" style="" src="/images/plume.png" alt data-v-efba2409><!--]--><!--[--><img class="vp-image light logo" style="" src="/images/plume.png" alt data-v-efba2409><!--]--><!--]--><!--]--><span data-v-9c0ce884>云泽汇码</span><!--[--><!--]--><!--]--><!----></a></div></div><div class="content" data-v-b88a6553><div class="content-body" data-v-b88a6553><!--[--><!--]--><div class="vp-navbar-search search" data-v-b88a6553><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索文档"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索文档</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="vp-navbar-menu menu" data-v-b88a6553 data-v-eaf94c84><span id="main-nav-aria-label" class="visually-hidden" data-v-eaf94c84>Main Navigation</span><!--[--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/" tabindex="0" data-v-eaf94c84 data-v-cd753c8b data-v-3a9f60f0><!--[--><!----><span data-v-cd753c8b>首页</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/blog/" tabindex="0" data-v-eaf94c84 data-v-cd753c8b data-v-3a9f60f0><!--[--><!----><span data-v-cd753c8b>博客</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/interview/" tabindex="0" data-v-eaf94c84 data-v-cd753c8b data-v-3a9f60f0><!--[--><!----><span data-v-cd753c8b>专题训练</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/blog/tags/" tabindex="0" data-v-eaf94c84 data-v-cd753c8b data-v-3a9f60f0><!--[--><!----><span data-v-cd753c8b>标签</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/blog/archives/" tabindex="0" data-v-eaf94c84 data-v-cd753c8b data-v-3a9f60f0><!--[--><!----><span data-v-cd753c8b>归档</span><!--]--><!----></a><!--]--><!--[--><div class="vp-flyout vp-navbar-menu-group" data-v-eaf94c84 data-v-e23f201b><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-e23f201b><span class="text" data-v-e23f201b><!----><!----><span data-v-e23f201b>笔记</span><span class="vpi-chevron-down text-icon" data-v-e23f201b></span></span></button><div class="menu" data-v-e23f201b><div class="vp-menu" data-v-e23f201b data-v-7c4f1a3f><div class="items" data-v-7c4f1a3f><!--[--><!--[--><div class="vp-menu-link" data-v-7c4f1a3f data-v-47e78924><a class="vp-link no-icon link" href="/postgraduate/" data-v-47e78924 data-v-3a9f60f0><!--[--><!----> 考研<!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-7c4f1a3f data-v-47e78924><a class="vp-link no-icon link" href="/article/4o99lto5/" data-v-47e78924 data-v-3a9f60f0><!--[--><!----> 友情链接<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="vp-navbar-appearance appearance" data-v-b88a6553 data-v-e723d79c><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-e723d79c data-v-4f56f7d2 data-v-9546dcf7><span class="check" data-v-9546dcf7><span class="icon" data-v-9546dcf7><!--[--><span class="vpi-sun sun" data-v-4f56f7d2></span><span class="vpi-moon moon" data-v-4f56f7d2></span><!--]--></span></span></button></div><div class="vp-social-links vp-navbar-social-links social-links" data-v-b88a6553 data-v-0cd2c7bd data-v-95a4d926><!--[--><a class="vp-social-link no-icon" href="https://github.com/codeyunze" aria-label="github" target="_blank" rel="noopener" data-v-95a4d926 data-v-86a99ffc><span class="vpi-social-github" /></a><!--]--></div><div class="vp-flyout vp-navbar-extra extra" data-v-b88a6553 data-v-6f16644d data-v-e23f201b><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-e23f201b><span class="vpi-more-horizontal icon" data-v-e23f201b></span></button><div class="menu" data-v-e23f201b><div class="vp-menu" data-v-e23f201b data-v-7c4f1a3f><!----><!--[--><!--[--><!----><div class="group" data-v-6f16644d><div class="item appearance" data-v-6f16644d><p class="label" data-v-6f16644d>外观</p><div class="appearance-action" data-v-6f16644d><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-6f16644d data-v-4f56f7d2 data-v-9546dcf7><span class="check" data-v-9546dcf7><span class="icon" data-v-9546dcf7><!--[--><span class="vpi-sun sun" data-v-4f56f7d2></span><span class="vpi-moon moon" data-v-4f56f7d2></span><!--]--></span></span></button></div></div></div><div class="group" data-v-6f16644d><div class="item social-links" data-v-6f16644d><div class="vp-social-links social-links-list" data-v-6f16644d data-v-95a4d926><!--[--><a class="vp-social-link no-icon" href="https://github.com/codeyunze" aria-label="github" target="_blank" rel="noopener" data-v-95a4d926 data-v-86a99ffc><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="vp-navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-b88a6553 data-v-ace2769d><span class="container" data-v-ace2769d><span class="top" data-v-ace2769d></span><span class="middle" data-v-ace2769d></span><span class="bottom" data-v-ace2769d></span></span></button></div></div></div></div><div class="divider" data-v-b88a6553><div class="divider-line" data-v-b88a6553></div></div></div><!----></header><div class="vp-local-nav fixed reached-top is-blog" data-v-0f45c45d data-v-8b0b44b7><button class="hidden menu" disabled aria-expanded="false" aria-controls="SidebarNav" data-v-8b0b44b7><span class="vpi-align-left menu-icon" data-v-8b0b44b7></span><span class="menu-text" data-v-8b0b44b7>Menu</span></button><div class="vp-local-nav-outline-dropdown" style="--vp-vh:0px;" data-v-8b0b44b7 data-v-5b5c1d2a><button data-v-5b5c1d2a>返回顶部</button><!----></div></div><!----><!--[--><div id="VPContent" vp-content class="vp-content" data-v-0f45c45d data-v-334cc006><div class="vp-doc-container is-blog" data-v-334cc006 data-v-d52aff32><!--[--><!--]--><div class="container" data-v-d52aff32><!----><div class="content" data-v-d52aff32><div class="content-container" data-v-d52aff32><!--[--><!--]--><main class="main" data-v-d52aff32><nav class="vp-breadcrumb" data-v-d52aff32 data-v-73f3b3f3><ol vocab="https://schema.org/" typeof="BreadcrumbList" data-v-73f3b3f3><!--[--><li property="itemListElement" typeof="ListItem" data-v-73f3b3f3><a class="vp-link no-icon link breadcrumb" href="/" property="item" typeof="WebPage" data-v-73f3b3f3 data-v-3a9f60f0><!--[-->首页<!--]--><!----></a><span class="vpi-chevron-right" data-v-73f3b3f3></span><meta property="name" content="首页" data-v-73f3b3f3><meta property="position" content="1" data-v-73f3b3f3></li><li property="itemListElement" typeof="ListItem" data-v-73f3b3f3><a class="vp-link no-icon link breadcrumb" href="/blog/" property="item" typeof="WebPage" data-v-73f3b3f3 data-v-3a9f60f0><!--[-->博客<!--]--><!----></a><span class="vpi-chevron-right" data-v-73f3b3f3></span><meta property="name" content="博客" data-v-73f3b3f3><meta property="position" content="2" data-v-73f3b3f3></li><li property="itemListElement" typeof="ListItem" data-v-73f3b3f3><a class="vp-link no-icon link breadcrumb" href="/blog/categories/?id=3c78b3" property="item" typeof="WebPage" data-v-73f3b3f3 data-v-3a9f60f0><!--[-->manual<!--]--><!----></a><span class="vpi-chevron-right" data-v-73f3b3f3></span><meta property="name" content="manual" data-v-73f3b3f3><meta property="position" content="3" data-v-73f3b3f3></li><li property="itemListElement" typeof="ListItem" data-v-73f3b3f3><a class="vp-link no-icon link breadcrumb current" href="/article/i4ap1alc/" property="item" typeof="WebPage" data-v-73f3b3f3 data-v-3a9f60f0><!--[-->自动化性能监控系统安装部署<!--]--><!----></a><!----><meta property="name" content="自动化性能监控系统安装部署" data-v-73f3b3f3><meta property="position" content="4" data-v-73f3b3f3></li><!--]--></ol></nav><!--[--><h1 class="vp-doc-title page-title" data-v-6a747cbd>自动化性能监控系统安装部署 <!----></h1><div class="vp-doc-meta" data-v-6a747cbd><p class="reading-time" data-v-6a747cbd><span class="vpi-books icon" data-v-6a747cbd></span><span data-v-6a747cbd>约 1681 字</span><span data-v-6a747cbd>大约 6 分钟</span></p><p data-v-6a747cbd><span class="vpi-tag icon" data-v-6a747cbd></span><!--[--><a class="vp-link no-icon link tag vp-tag-odfu" href="/blog/tags/?tag=手册" data-v-6a747cbd data-v-3a9f60f0><!--[-->手册<!--]--><!----></a><a class="vp-link no-icon link tag vp-tag-zwi0" href="/blog/tags/?tag=Grafana" data-v-6a747cbd data-v-3a9f60f0><!--[-->Grafana<!--]--><!----></a><a class="vp-link no-icon link tag vp-tag-675w" href="/blog/tags/?tag=Prometheus" data-v-6a747cbd data-v-3a9f60f0><!--[-->Prometheus<!--]--><!----></a><!--]--></p><p class="create-time" data-v-6a747cbd><span class="vpi-clock icon" data-v-6a747cbd></span><span data-v-6a747cbd>2024-10-31</span></p></div><!--]--><div class="_article_i4ap1alc_ external-link-icon-enabled vp-doc plume-content" vp-content data-v-d52aff32><div data-v-d52aff32><p>Grafana + Prometheus（普罗米修斯）实现系统性能的监控</p><p>此处讲述监控redis、mysql、java服务</p><h1 id="自动化性能监控系统安装部署" tabindex="-1"><a class="header-anchor" href="#自动化性能监控系统安装部署"><span>自动化性能监控系统安装部署</span></a></h1><h2 id="相关工具的安装部署" tabindex="-1"><a class="header-anchor" href="#相关工具的安装部署"><span>相关工具的安装部署</span></a></h2><p>服务工具分配</p><table><thead><tr><th>服务器</th><th>工具</th><th>端口</th></tr></thead><tbody><tr><td>10.0.20.9</td><td>grafana</td><td>3000</td></tr><tr><td>10.0.20.9</td><td>prometheus</td><td>9090</td></tr><tr><td>10.0.20.10</td><td>mysql</td><td>3306</td></tr><tr><td>10.0.20.10</td><td>mysql-exporter</td><td>9104</td></tr><tr><td>10.0.20.10</td><td>redis</td><td>3306</td></tr><tr><td>10.0.20.10</td><td>redis_exporter</td><td>9121</td></tr></tbody></table><p>简单介绍下上面几个工具的用途，redis和mysql就不用过多介绍了，是平常开发过程中的常用的中间件。</p><p>grafana主要是可视化展示界面，和预警通知工具，用来展示被监控的mysql和redis的性能信息，以及当被监控工具的压力过大时，通过预先设置的通知规则，通过邮件、短信、企业微信等消息通知手段通知维护人员。</p><p>prometheus主要时用来收集各个中间件的监控数据，然后存储在本地的时序数据库里，grafana展示的数据就是由prometheus提供的。</p><p>mysql-exporter是专门用来搜集mysql数据库运行性能的工具，并将收集到的数据传给prometheus。</p><p>因为mysql是专门的数据库工具，并不会主动将自己的运行数据提供给其他第三方，所以才会需要一个专门的exporter工具来进行数据收集和转发。</p><p>其他几乎所有的中间件接入到prometheus，都是需要额外去部署一个exporter工具的。</p><p>redis_exporter是专门用来搜集和转发redis的运行性能数据的工具，和mysql-exporter一样。</p><h3 id="使用docker-compose安装prometheus" tabindex="-1"><a class="header-anchor" href="#使用docker-compose安装prometheus"><span>使用docker-compose安装prometheus</span></a></h3><p>先拉取prometheus的镜像</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">也可以使用docker</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">pull</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">prom/prometheus:v2.54.1（使用后下文配置信息里的镜像名也要跟着调整）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">docker</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">pull</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">prom/prometheus:v2.54.1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>在指定的目录下创建docker-compose.yml配置文件和prometheus目录</p><p><img src="/assets/image-20241028164049278-duPN-XOe.png" alt="image-20241028164049278"></p><p>docker-compose.yml配置信息如下</p><div class="language-yaml line-numbers-mode" data-ext="yaml" data-title="yaml"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">services</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">prometheus</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">image</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">prom/prometheus:v2.54.1</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">指定镜像文件</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">container_name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span class="space"> </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">prometheus</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span class="tab">	</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">给容器命名</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">volumes</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">./prometheus/:/etc/prometheus/</span><span class="tab">	</span><span class="tab">	</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">映射prometheus的配置文件</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/etc/localtime:/etc/localtime:ro</span><span class="tab">	</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">让容器去使用宿主机的时间，保持和宿主机的时间一致</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">ports</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span class="space"> </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">9090:9090</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span class="tab">	</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">映射端口</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后在prometheus目录下创建prometheus.yml配置文件，设置抓取性能数据任务配置</p><p><img src="/assets/image-20241028171437724-CHfPiBlZ.png" alt="image-20241028171437724"></p><p>prometheus.yml配置文件为</p><div class="language-ya line-numbers-mode" data-ext="ya" data-title="ya"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>global:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span>scrape_interval:</span><span class="space"> </span><span>15s</span><span class="space"> </span><span class="space"> </span><span>#</span><span class="space"> </span><span>数据抓取间隔</span></span>
<span class="line"><span></span></span>
<span class="line"><span>scrape_configs:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span>-</span><span class="space"> </span><span>job_name:</span><span class="space"> </span><span>&#39;prometheus&#39;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>static_configs:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>-</span><span class="space"> </span><span>targets:</span><span class="space"> </span><span>[&#39;10.0.20.9:9090&#39;]</span><span class="tab">	</span><span>#</span><span class="space"> </span><span>普罗米修斯的访问地址</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>启动</p><p>先回到docker-compose.ym配置文件所在的目录下</p><p><img src="/assets/image-20241028171923198-CYk4FGOw.png" alt="image-20241028171923198"></p><p>执行命令</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">docker-compose</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">up</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-d</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="/assets/image-20241028171822223-BLkcUEtN.png" alt="image-20241028171822223"></p><p>启动成功</p><p><img src="/assets/image-20241028172023159-BzDL-Kro.png" alt="image-20241028172023159"></p><p>防火墙开放端口限制之后就可以访问了</p><p>访问地址：http://10.0.20.9:9090</p><p><img src="/assets/image-20241028172152071-BsKWFNsx.png" alt="image-20241028172152071"></p><p>​</p><h3 id="使用docker-compose安装grafana" tabindex="-1"><a class="header-anchor" href="#使用docker-compose安装grafana"><span>使用docker-compose安装grafana</span></a></h3><p>拉取grafana镜像</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">也可以使用docker</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">pull</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">grafana/grafana:11.2.3（使用后下文配置信息里的镜像名也要跟着调整）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">docker</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">pull</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">grafana/grafana:11.2.3</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>在指定的目录下配置docker-compose.yml配置文件和grafana目录</p><p><img src="/assets/image-20241030233149856-BwfNYQ34.png" alt="image-20241030233149856"></p><p>docker-compose.yml配置信息如下（在部署了prometheus的基础上调整）</p><div class="language-yaml line-numbers-mode" data-ext="yaml" data-title="yaml"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">services</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">prometheus</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">image</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">prom/prometheus:v2.54.1</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">container_name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span class="space"> </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">prometheus</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">volumes</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">./prometheus/:/etc/prometheus/</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/etc/localtime:/etc/localtime:ro</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">ports</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span class="space"> </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">9090:9090</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">grafana</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">image</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">grafana/grafana:11.2.3</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">container_name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span class="space"> </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">grafana</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">volumes</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">./grafana/config/grafana.ini:/etc/grafana/grafana.ini</span><span class="tab">	</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">配置grafana的报警邮件发送服务</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">./grafana/provisioning/:/etc/grafana/provisioning/</span><span class="tab">	</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">映射grafana的配置文件</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/etc/localtime:/etc/localtime:ro</span><span class="tab">	</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">让容器去使用宿主机的时间，保持和宿主机的时间一致</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">ports</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span class="space"> </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">3000:3000</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span class="tab">	</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">端口映射</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">env_file</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">./grafana/config.monitoring</span><span class="tab">	</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">设置grafana的登录配置信息</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">depends_on</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">prometheus</span><span class="tab">	</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">设置grafana依赖于prometheus，需要在prometheus之后去启动</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>配置config.monitoring（grafana的认证配置）</p><div class="language-properties line-numbers-mode" data-ext="properties" data-title="properties"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">设置grafana管理界面admin用户的登录密码</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">GF_SECURITY_ADMIN_PASSWORD</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">123456</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">控制grafana的管理界面不允许注册</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">GF_USERS_ALLOW_SIGN_UP</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">false</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/image-20241028234229298-C9dERjAU.png" alt="image-20241028234229298"></p><p>配置grafana的配置文件datasource.yml，用于设定其展示数据的数据来源</p><p><img src="/assets/image-20241029000350160-CakQBWvK.png" alt="image-20241029000350160"></p><p>配置信息如下</p><div class="language-yaml line-numbers-mode" data-ext="yaml" data-title="yaml"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">apiVersion</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span class="space"> </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">deleDatasources</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Prometheus</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">orgId</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span class="space"> </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">datasources</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Prometheus</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">type</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">prometheus</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">access</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">proxy</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">orgId</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span class="space"> </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">url</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">http://10.0.20.9:9090</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">basicAuth</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span class="space"> </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">false</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">isDefault</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span class="space"> </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">true</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">version</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span class="space"> </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">editable</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span class="space"> </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">true</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>设置预警通知邮件配置文件grafana.ini</p><p><img src="/assets/image-20241031224601498-BIdxDTr7.png" alt="image-20241031224601498"></p><p>配置信息如下</p><div class="language-ini line-numbers-mode" data-ext="ini" data-title="ini"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">smtp</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">是否开启邮件发送</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">enabled</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">true</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">发送服务器（固定的）</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">host</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">smtp.qq.com:465</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">发送者的邮箱账号（smtp账号）</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">user</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">834363368@qq.com</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">授权码（smtp账号的授权码）</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">password</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">66666666666</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">接收预警邮件的邮箱</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from_address</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">456789@qq.com</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">接收预警邮件的用户名称</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from_name</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">云泽</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="安装对应中间件的exporter向prometheus提供性能数据" tabindex="-1"><a class="header-anchor" href="#安装对应中间件的exporter向prometheus提供性能数据"><span>安装对应中间件的exporter向prometheus提供性能数据</span></a></h3><h4 id="安装redis-exporter收集redis性能数据" tabindex="-1"><a class="header-anchor" href="#安装redis-exporter收集redis性能数据"><span>安装redis_exporter收集redis性能数据</span></a></h4><p>拉取redis_exporter镜像</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">docker</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">pull</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">oliver006/redis_exporter:v1.64.1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>运行redis_exporter</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">docker</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">run</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-d</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">9121:9121</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">oliver006/redis_exporter:v1.64.1</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--redis.addr</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">redis://10.0.20.10:6379</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--redis.password</span><span class="space"> </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">123456</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>容器启动成功之后，访问 http://10.0.20.10:9121/metrics 打印出redis相关的信息就说明redis_exporter安装成功。</p><p><img src="/assets/image-20241030232137473-CZV31hKM.png" alt="image-20241030232137473"></p><h4 id="安装mysql-exporter收集mysql性能数据" tabindex="-1"><a class="header-anchor" href="#安装mysql-exporter收集mysql性能数据"><span>安装mysql-exporter收集mysql性能数据</span></a></h4><p>拉取mysql-exporter镜像</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">docker</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">pull</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">prom/mysqld-exporter:v0.15.1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>在mysql上创建mysql-exporter专属的账号exporter，只需要查询权限即可。</p><p>然后配置mysql-exporter访问mysql数据库信息my.cnf</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">client</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">host</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">10.0.20.10</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">user</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">exporter</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">password</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">123456</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>运行mysql-exporter</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">docker</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">run</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-d</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--name</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">mysql-master-exporter</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">9104:9104</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-v</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/opt/my.cnf:/etc/mysql/my.cnf</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">prom/mysqld-exporter:v0.15.1</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--config.my-cnf=/etc/mysql/my.cnf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>启动之后访问http://10.0.20.10:9104/metrics</p><p>请求后打印出如下mysql相关信息就是成功</p><p><img src="/assets/image-20241101001957717-2DcmUUtE.png" alt="image-20241101001957717"></p><p>接下来去配置下prometheus，在原prometheus.yml配置文件里，追加redis的性能数据抓取任务</p><p>编辑prometheus.yml (该文件按上文所述，在/opt/docker/docker-monitor/prometheus/prometheus.yml)</p><div class="language-yaml line-numbers-mode" data-ext="yaml" data-title="yaml"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">global</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">scrape_interval</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">10s</span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">数据抓取间隔</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">scrape_configs</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">job_name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span class="space"> </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">prometheus</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">static_configs</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">targets</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">10.0.20.9:9090</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span></span>
<span class="line"><span class="tab">	</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">job_name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span class="space"> </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">mysql-master</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">static_configs</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">targets</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">10.0.20.10:9104</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">labels</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">instance</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">mysql-master</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">job_name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span class="space"> </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">redis-signle</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">static_configs</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">targets</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">10.0.20.10:9121</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">labels</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">instance</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">redis-signle</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="重新启动prometheus-grafana" tabindex="-1"><a class="header-anchor" href="#重新启动prometheus-grafana"><span>重新启动Prometheus + Grafana</span></a></h2><p>进入到10.0.20.9服务器的/opt/docker/docker-monitor目录，也就是docker-compose.yml配置文件所在地址</p><p><img src="/assets/image-20241101002344177-CZ8WN6_c.png" alt="image-20241101002344177"></p><p>执行如下命令启动grafana和prometheus</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">docker-compose</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">up</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--force-recreate</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-d</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><blockquote><p>--force-recreate：意思是关闭删除旧的容器，重新创建新的容器并运行</p></blockquote><h2 id="登录配置grafana" tabindex="-1"><a class="header-anchor" href="#登录配置grafana"><span>登录配置Grafana</span></a></h2><p>访问地址：http://10.0.20.9:3000/login</p><p><img src="/assets/image-20241106100238903-B_Nv2Xnc.png" alt="image-20241106100238903"></p><p><img src="/assets/image-20241031235149244-BdNu7SPm.png" alt="image-20241031235149244"></p><p><img src="/assets/image-20241031235246409-qRCPtd6e.png" alt="image-20241031235246409"></p><p>导入的json文件如下</p><p><a href="/json/redis-dashboard.json" target="_blank">redis-dashboard.json 下载链接</a></p><p><a href="/json/mysql-dashboard.json" target="_blank">mysql-dashboard.json 下载链接</a></p><p>下载json文件后，逐个导入到grafana的dashboards里面即可</p><h3 id="mysql性能监控页面" tabindex="-1"><a class="header-anchor" href="#mysql性能监控页面"><span>mysql性能监控页面</span></a></h3><p><img src="/assets/image-20241101002640025-D-nlwbTO.png" alt="image-20241101002640025"></p><blockquote><p>mysql如果想监控到MySQL Slow Queries也就是慢查询，就需要在mysql的配置文件里开启慢查询日志记录</p><p>#开启慢查询日志 slow_query_log = 1</p><p>#指定慢查询日志文件的位置 slow_query_log_file = /var/log/mysql/slow-query.log</p><p>#设置慢查询的时间阈值（单位：秒） long_query_time = 2</p></blockquote><h3 id="redis性能监控页面" tabindex="-1"><a class="header-anchor" href="#redis性能监控页面"><span>redis性能监控页面</span></a></h3><p><img src="/assets/image-20241101002653991-DpLU5q7t.png" alt="image-20241101002653991"></p><blockquote><p>redis监控要看到memory usagea数据，就需要在运行redis的时候，在redis的redis.conf里面添加如下配置：</p><p>#设置redis的最大内存</p><p>maxmemory 1024M</p></blockquote></div><!----><!----><!----></div></main><footer class="vp-doc-footer" data-v-d52aff32 data-v-0b49aa66><!--[--><!--]--><!----><div class="contributors" aria-label="Contributors" data-v-0b49aa66><span class="contributors-label" data-v-0b49aa66>贡献者: </span><span class="contributors-info" data-v-0b49aa66><!--[--><!--[--><span class="contributor" data-v-0b49aa66>yunze</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" data-v-0b49aa66>yunze</span><!----><!--]--><!--]--></span></div><nav class="prev-next" data-v-0b49aa66><div class="pager" data-v-0b49aa66><a class="vp-link no-icon link pager-link prev" href="/article/6819fxrx/" data-v-0b49aa66 data-v-3a9f60f0><!--[--><span class="desc" data-v-0b49aa66>上一页</span><span class="title" data-v-0b49aa66>Nginx配置修复Web漏洞</span><!--]--><!----></a></div><div class="pager" data-v-0b49aa66><a class="vp-link no-icon link pager-link next" href="/other/w6uhynzt/" data-v-0b49aa66 data-v-3a9f60f0><!--[--><span class="desc" data-v-0b49aa66>下一页</span><span class="title" data-v-0b49aa66>Nginx的安装部署</span><!--]--><!----></a></div></nav></footer><div id="comment" class="giscus-wrapper input-top vp-comment" vp-comment style="display:block;" data-v-d52aff32><div style="display: flex;
align-items: center;
justify-content: center;
height: 96px"><span style="--loading-icon: url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; preserveAspectRatio=&#39;xMidYMid&#39; viewBox=&#39;25 25 50 50&#39;%3E%3CanimateTransform attributeName=&#39;transform&#39; type=&#39;rotate&#39; dur=&#39;2s&#39; keyTimes=&#39;0;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;360&#39;%3E%3C/animateTransform%3E%3Ccircle cx=&#39;50&#39; cy=&#39;50&#39; r=&#39;20&#39; fill=&#39;none&#39; stroke=&#39;currentColor&#39; stroke-width=&#39;4&#39; stroke-linecap=&#39;round&#39;%3E%3Canimate attributeName=&#39;stroke-dasharray&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;1,200;90,200;1,200&#39;%3E%3C/animate%3E%3Canimate attributeName=&#39;stroke-dashoffset&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;-35px;-125px&#39;%3E%3C/animate%3E%3C/circle%3E%3C/svg%3E&quot;);
--icon-size: 48px;
display: inline-block;
width: var(--icon-size);
height: var(--icon-size);
background-color: currentcolor;
-webkit-mask-image: var(--loading-icon);
mask-image: var(--loading-icon);
"></span></div></div><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!--]--><button style="display:none;" type="button" class="vp-back-to-top" aria-label="back to top" data-v-0f45c45d data-v-28a72d4e><span class="percent" data-allow-mismatch data-v-28a72d4e>0%</span><span class="show icon vpi-back-to-top" data-v-28a72d4e></span><svg aria-hidden="true" data-v-28a72d4e><circle cx="50%" cy="50%" data-allow-mismatch style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-28a72d4e></circle></svg></button><footer class="vp-footer" vp-footer data-v-0f45c45d data-v-e82df701><!--[--><div class="container" data-v-e82df701><p class="message" data-v-e82df701><a target="_blank" href="https://beian.mps.gov.cn/#/query/webSearch">鄂公网安备42900402000843号</a></br><a target="_blank" href="https://beian.miit.gov.cn/#/Integrated/index">鄂ICP备19029486号-5</a></p><!----></div><!--]--></footer><!--[--><!--]--><!--]--></div><!----><!--]--><!--[--><!--]--><!--]--></div><script type="module" src="/assets/app-Cx_oisp2.js" defer></script></body></html>