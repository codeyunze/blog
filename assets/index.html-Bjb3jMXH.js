import{_ as a,e as i,f as e,o as n}from"./app-Cx_oisp2.js";const t={};function l(p,s){return n(),i("div",null,s[0]||(s[0]=[e(`<p>紧急Bug来袭：如何利用Git在老版本上迅速修复并发布</p><p>当项目已经迭代多个版本之后，突然发现旧版本0.0.1出现了紧急bug，需要及时处理； 如果直接用新版本替换上去是存在极大隐患的，且时间来不及； 所以需要直接在0.0.1版本的基础上去修复bug，然后发布一个新版本去更新，这样才会更加稳妥，影响范围也会最小；</p><p>此时便可以使用 <code>git checkout -b [branch] [tag]</code> 命令进行操作。</p><h1 id="修改历史版本代码方案" tabindex="-1"><a class="header-anchor" href="#修改历史版本代码方案"><span>修改历史版本代码方案</span></a></h1><blockquote><p>修改历史tag版本代码并发布新标签</p></blockquote><h2 id="操作流程" tabindex="-1"><a class="header-anchor" href="#操作流程"><span>操作流程</span></a></h2><h3 id="_1-列出所有标签" tabindex="-1"><a class="header-anchor" href="#_1-列出所有标签"><span>1. 列出所有标签</span></a></h3><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">git</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">tag</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">0.0.1</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">0.0.2</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">0.0.3</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-发现0-0-1标签时的历史版本代码出现了问题-针对0-0-1标签时的代码建一个用于紧急处理bug的分支" tabindex="-1"><a class="header-anchor" href="#_2-发现0-0-1标签时的历史版本代码出现了问题-针对0-0-1标签时的代码建一个用于紧急处理bug的分支"><span>2. 发现0.0.1标签时的历史版本代码出现了问题，针对0.0.1标签时的代码建一个用于紧急处理bug的分支</span></a></h3><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">新建一个分支，指向某个tag</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">git</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">checkout</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-b</span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">[branch]</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">tag</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">git</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">checkout</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-b</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">feature-bugfix-0.0.1</span><span class="space"> </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0.0.1</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Switched</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">to</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">a</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">new</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">branch</span><span class="space"> </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">feature-bugfix-0.0.1</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-在feature-bugfix-0-0-1分支上处理完bug-再打一个新标签为0-0-1-bugfix" tabindex="-1"><a class="header-anchor" href="#_3-在feature-bugfix-0-0-1分支上处理完bug-再打一个新标签为0-0-1-bugfix"><span>3. 在feature-bugfix-0.0.1分支上处理完bug，再打一个新标签为0.0.1-bugfix</span></a></h3><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">git</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">tag</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">0.0.1-bugfix</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_4-推送0-0-1-bugfix新标签到远程仓库" tabindex="-1"><a class="header-anchor" href="#_4-推送0-0-1-bugfix新标签到远程仓库"><span>4. 推送0.0.1-bugfix新标签到远程仓库</span></a></h3><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">git</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">push</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--tags</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>此时可以基于0.0.1-bugfix标签发布新版本</p><h3 id="_5-将feature-bugfix-0-0-1分支合并到主分支" tabindex="-1"><a class="header-anchor" href="#_5-将feature-bugfix-0-0-1分支合并到主分支"><span>5. 将feature-bugfix-0.0.1分支合并到主分支</span></a></h3><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">先切换到master主分支</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">git</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">checkout</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">master</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">合并feature-bugfix-0.0.1分支</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">git</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">merge</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">feature-bugfix-0.0.1</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">推送到远程仓库</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">git</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">push</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-清理本地分支" tabindex="-1"><a class="header-anchor" href="#_6-清理本地分支"><span>6. 清理本地分支</span></a></h3><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">git</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">branch</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-D</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">feature-bugfix-0.0.1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,20)]))}const c=a(t,[["render",l],["__file","index.html.vue"]]),d=JSON.parse('{"path":"/manual/wgwtlvs5/","title":"Git修改历史版本代码方案","lang":"zh-CN","frontmatter":{"title":"Git修改历史版本代码方案","createTime":"2022/01/08 10:37:38","permalink":"/manual/wgwtlvs5/","tags":["手册","git"],"description":"紧急Bug来袭：如何利用Git在老版本上迅速修复并发布 当项目已经迭代多个版本之后，突然发现旧版本0.0.1出现了紧急bug，需要及时处理； 如果直接用新版本替换上去是存在极大隐患的，且时间来不及； 所以需要直接在0.0.1版本的基础上去修复bug，然后发布一个新版本去更新，这样才会更加稳妥，影响范围也会最小； 此时便可以使用 git checkout...","head":[["meta",{"property":"og:url","content":"https://blog.gaohan.asia/manual/wgwtlvs5/"}],["meta",{"property":"og:site_name","content":"云泽汇码"}],["meta",{"property":"og:title","content":"Git修改历史版本代码方案"}],["meta",{"property":"og:description","content":"紧急Bug来袭：如何利用Git在老版本上迅速修复并发布 当项目已经迭代多个版本之后，突然发现旧版本0.0.1出现了紧急bug，需要及时处理； 如果直接用新版本替换上去是存在极大隐患的，且时间来不及； 所以需要直接在0.0.1版本的基础上去修复bug，然后发布一个新版本去更新，这样才会更加稳妥，影响范围也会最小； 此时便可以使用 git checkout..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-05-02T04:33:46.000Z"}],["meta",{"property":"article:tag","content":"手册"}],["meta",{"property":"article:tag","content":"git"}],["meta",{"property":"article:modified_time","content":"2025-05-02T04:33:46.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Git修改历史版本代码方案\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-05-02T04:33:46.000Z\\",\\"author\\":[]}"]]},"headers":[],"readingTime":{"minutes":1.35,"words":404},"git":{"updatedTime":1746160426000,"contributors":[{"name":"yunze","username":"yunze","email":"56632502+YUNZE-GH@users.noreply.github.com","commits":8,"avatar":"https://avatars.githubusercontent.com/yunze?v=4","url":"https://github.com/yunze"}]},"autoDesc":true,"filePathRelative":"manual/303.Git修改历史版本代码方案.md","categoryList":[{"id":"3c78b3","sort":10003,"name":"manual"}]}');export{c as comp,d as data};
