import{_ as i,e,f as a,o as t}from"./app-Cx_oisp2.js";const l={};function n(o,s){return t(),e("div",null,s[0]||(s[0]=[a(`<p>线上系统出现异常问题且没有排查思路时，可根据本清单进行逐一排查。</p><h2 id="_1-服务器基础资源检查" tabindex="-1"><a class="header-anchor" href="#_1-服务器基础资源检查"><span>1. 服务器基础资源检查</span></a></h2><p><strong>CPU使用率</strong></p><ul><li><code>top -c</code> 查看CPU总体使用率及占用高的进程</li><li><code>vmstat 1 5</code> 查看CPU上下文切换、中断等情况</li><li>阈值：持续&gt;80%需关注，&gt;90%需紧急处理</li></ul><p><strong>内存使用情况</strong></p><ul><li><code>free -h</code> 查看内存和Swap使用情况</li><li><code>cat /proc/meminfo</code> 查看详细内存信息</li><li>阈值：可用内存&lt;20%需关注，Swap使用&gt;0需检查</li></ul><p><strong>磁盘空间</strong></p><ul><li><code>df -h</code> 查看各分区使用情况</li><li><code>du -sh /*</code> 查找大文件目录</li><li>阈值：使用率&gt;80%需关注，&gt;90%需紧急处理</li></ul><p><strong>磁盘I/O</strong></p><ul><li><code>iostat -x 1 5</code> 查看磁盘I/O负载</li><li><code>iotop</code> 查看I/O占用高的进程</li><li>阈值：await&gt;10ms需关注，&gt;50ms需处理</li></ul><p><strong>网络连接</strong></p><ul><li><code>netstat -antp</code> 查看网络连接状态</li><li><code>ss -s</code> 查看总连接数统计</li><li><code>iftop</code> 查看实时网络流量</li></ul><h2 id="_2-数据库检查-mysql" tabindex="-1"><a class="header-anchor" href="#_2-数据库检查-mysql"><span>2. 数据库检查(Mysql)</span></a></h2><p><strong>数据库连接数</strong></p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">SHOW</span><span class="space"> </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">STATUS</span><span class="space"> </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">LIKE</span><span class="space"> </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Threads_connected</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">SHOW</span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">VARIABLES</span><span class="space"> </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">LIKE</span><span class="space"> </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">max_connections</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>慢查询日志</strong></p><ul><li>检查慢查询是否开启：<code>SHOW VARIABLES LIKE &#39;slow_query%&#39;;</code></li><li>检查慢查询阈值：<code>SHOW VARIABLES LIKE &#39;long_query_time&#39;;</code></li><li>分析慢查询日志：<code>mysqldumpslow -s t /path/to/slow.log</code></li></ul><p><strong>慢日志文件大小</strong></p><ul><li><code>ls -lh /var/lib/mysql/*slow.log</code></li><li>检查日志轮转配置</li></ul><p><strong>Binlog日志</strong></p><ul><li>检查大小：<code>ls -lh /var/lib/mysql/mysql-bin.*</code></li><li>检查过期设置：<code>SHOW VARIABLES LIKE &#39;binlog_expire_logs_seconds&#39;;</code></li><li>检查写入位置：<code>SHOW MASTER STATUS;</code></li></ul><p><strong>锁等待情况</strong></p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">SHOW</span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">ENGINE</span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">INNODB</span><span class="space"> </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">STATUS</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span class="space"> </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">FROM</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">sys</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">innodb_lock_waits</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-redis检查" tabindex="-1"><a class="header-anchor" href="#_3-redis检查"><span>3. Redis检查</span></a></h2><p><strong>Redis服务器资源</strong></p><ul><li><code>top -p $(pgrep redis-server)</code> 查看Redis进程资源占用</li><li><code>redis-cli info memory</code> 查看内存使用详情</li><li><code>redis-cli info stats</code> 查看操作统计</li></ul><p><strong>Redis连接数</strong></p><ul><li><code>redis-cli info clients</code> 查看连接数</li><li><code>redis-cli info persistence</code> 查看持久化状态</li></ul><p><strong>Key数量及内存</strong></p><ul><li><code>redis-cli dbsize</code> 查看key数量</li><li><code>redis-cli --bigkeys</code> 查找大key</li></ul><h2 id="_4-服务注册检查-nacos" tabindex="-1"><a class="header-anchor" href="#_4-服务注册检查-nacos"><span>4. 服务注册检查(Nacos)</span></a></h2><p><strong>服务注册状态</strong></p><ul><li>登录Nacos控制台检查各服务是否注册</li></ul><h2 id="_5-应用服务检查" tabindex="-1"><a class="header-anchor" href="#_5-应用服务检查"><span>5. 应用服务检查</span></a></h2><p><strong>服务进程状态</strong></p><ul><li><code>ps -ef | grep 服务名</code></li><li><code>jps -l</code> (Java服务)</li></ul><p><strong>服务日志检查</strong></p><ul><li>检查最新错误日志：<code>tail -n 200 /path/to/error.log</code></li><li>搜索特定错误：<code>grep -i &quot;error\\|exception&quot; /path/to/logfile</code></li></ul><p><strong>数据库连接池配置检查</strong></p><p><strong>JVM状态(Java服务)</strong></p><ul><li><code>jstat -gcutil &lt;pid&gt; 1000 5</code> 查看GC情况</li><li><code>jmap -heap &lt;pid&gt;</code> 查看堆内存配置</li></ul><h2 id="_6-其他检查" tabindex="-1"><a class="header-anchor" href="#_6-其他检查"><span>6. 其他检查</span></a></h2><p><strong>定时任务状态</strong></p><ul><li><code>crontab -l</code> 查看计划任务</li><li>检查最近执行日志</li></ul><p><strong>外部依赖服务</strong></p><ul><li>检查第三方API可用性</li><li>检查支付、短信等关键通道</li></ul><hr><p><strong>备注</strong>：建议将此检查单与监控系统(如Prometheus+Grafana)结合使用，实现自动化巡检。对于生产环境，关键指标应设置告警阈值。</p>`,48)]))}const r=i(l,[["render",n],["__file","index.html.vue"]]),c=JSON.parse('{"path":"/article/ud77sryp/","title":"线上系统问题排查检查单","lang":"zh-CN","frontmatter":{"title":"线上系统问题排查检查单","createTime":"2025/07/02 14:02:59","permalink":"/article/ud77sryp/","tags":["手册","问题解决方案"],"description":"线上系统出现异常问题且没有排查思路时，可根据本清单进行逐一排查。 1. 服务器基础资源检查 CPU使用率 top -c 查看CPU总体使用率及占用高的进程 vmstat 1 5 查看CPU上下文切换、中断等情况 阈值：持续>80%需关注，>90%需紧急处理 内存使用情况 free -h 查看内存和Swap使用情况 cat /proc/meminfo 查...","head":[["meta",{"property":"og:url","content":"https://blog.gaohan.asia/article/ud77sryp/"}],["meta",{"property":"og:site_name","content":"云泽汇码"}],["meta",{"property":"og:title","content":"线上系统问题排查检查单"}],["meta",{"property":"og:description","content":"线上系统出现异常问题且没有排查思路时，可根据本清单进行逐一排查。 1. 服务器基础资源检查 CPU使用率 top -c 查看CPU总体使用率及占用高的进程 vmstat 1 5 查看CPU上下文切换、中断等情况 阈值：持续>80%需关注，>90%需紧急处理 内存使用情况 free -h 查看内存和Swap使用情况 cat /proc/meminfo 查..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-07-12T02:40:31.000Z"}],["meta",{"property":"article:tag","content":"手册"}],["meta",{"property":"article:tag","content":"问题解决方案"}],["meta",{"property":"article:modified_time","content":"2025-07-12T02:40:31.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"线上系统问题排查检查单\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-07-12T02:40:31.000Z\\",\\"author\\":[]}"]]},"headers":[],"readingTime":{"minutes":2.35,"words":704},"git":{"updatedTime":1752288031000,"contributors":[{"name":"yunze","username":"yunze","email":"834363368@qq.com","commits":2,"avatar":"https://avatars.githubusercontent.com/yunze?v=4","url":"https://github.com/yunze"}]},"autoDesc":true,"filePathRelative":"other/线上系统问题排查检查单.md","categoryList":[{"id":"795f32","sort":10000,"name":"other"}]}');export{r as comp,c as data};
