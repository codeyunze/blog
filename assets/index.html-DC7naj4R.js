import{_ as a,e as i,f as e,o as n}from"./app-Cx_oisp2.js";const t="/assets/Snipaste_2025-05-02_11-37-00-DQQ_czRD.png",l={};function p(h,s){return n(),i("div",null,s[0]||(s[0]=[e('<p><strong>——本地生成密钥对、访问 Linux 服务器及 GitHub</strong></p><hr><h2 id="_1-生成-ssh-密钥对-windows-linux-macos" tabindex="-1"><a class="header-anchor" href="#_1-生成-ssh-密钥对-windows-linux-macos"><span><strong>1. 生成 SSH 密钥对（Windows/Linux/macOS）</strong></span></a></h2><h3 id="_1-1-生成-rsa-密钥对-建议" tabindex="-1"><a class="header-anchor" href="#_1-1-生成-rsa-密钥对-建议"><span><strong>1.1 生成 RSA 密钥对</strong>（建议）</span></a></h3><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ssh-keygen</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-t</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">rsa</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-C</span><span class="space"> </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">your_email@example.com</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><strong><code>-t rsa</code></strong>：指定密钥类型为 RSA。</li><li><strong><code>-C &quot;your_email@example.com&quot;</code></strong>：注释（可选，用于标识密钥）。</li></ul><p><strong>执行后：</strong></p><ol><li>默认保存路径： <ul><li>Windows: <code>C:\\Users\\&lt;用户名&gt;\\.ssh\\id_rsa</code></li><li>Linux/macOS: <code>~/.ssh/id_rsa</code></li></ul></li><li><strong>建议不设置密码（直接回车两次）</strong>，否则每次使用 SSH 需输入密码。</li></ol><p><img src="'+t+`" alt="Snipaste_2025-05-02_11-37-00"></p><h3 id="_1-2-可选-生成-ed25519-密钥-更安全" tabindex="-1"><a class="header-anchor" href="#_1-2-可选-生成-ed25519-密钥-更安全"><span><strong>1.2 可选：生成 Ed25519 密钥（更安全）</strong></span></a></h3><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ssh-keygen</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-t</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ed25519</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-C</span><span class="space"> </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">your_email@example.com</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>Ed25519 比 RSA 更安全且更快，但部分旧系统可能不支持。</li></ul><h2 id="_2-配置-ssh-免密登录-linux-服务器" tabindex="-1"><a class="header-anchor" href="#_2-配置-ssh-免密登录-linux-服务器"><span><strong>2. 配置 SSH 免密登录 Linux 服务器</strong></span></a></h2><h3 id="_2-1-将公钥上传到-linux-服务器" tabindex="-1"><a class="header-anchor" href="#_2-1-将公钥上传到-linux-服务器"><span><strong>2.1 将公钥上传到 Linux 服务器</strong></span></a></h3><h4 id="方法-1-使用-ssh-copy-id-推荐" tabindex="-1"><a class="header-anchor" href="#方法-1-使用-ssh-copy-id-推荐"><span><strong>方法 1：使用 <code>ssh-copy-id</code>（推荐）</strong></span></a></h4><p>username：对应远程服务器的用户。</p><p>server_ip：对应远程服务器的IP地址。</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ssh-copy-id</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-i</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">~/.ssh/id_rsa.pub</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">username@server_ip</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>输入服务器密码后，公钥会自动添加到 <code>~/.ssh/authorized_keys</code>。</p><h4 id="方法-2-手动复制-适用于-windows" tabindex="-1"><a class="header-anchor" href="#方法-2-手动复制-适用于-windows"><span><strong>方法 2：手动复制（适用于 Windows）</strong></span></a></h4><ol><li><strong>查看公钥</strong>：<div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">cat</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">~/.ssh/id_rsa.pub</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><strong>登录服务器</strong>，将公钥追加到 <code>authorized_keys</code>：<div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mkdir</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">~/.ssh</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">echo</span><span class="space"> </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">粘贴你的公钥</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;&gt;</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">~/.ssh/authorized_keys</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chmod</span><span class="space"> </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">700</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">~/.ssh</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chmod</span><span class="space"> </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">600</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">~/.ssh/authorized_keys</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><hr><h3 id="_2-2-测试-ssh-登录" tabindex="-1"><a class="header-anchor" href="#_2-2-测试-ssh-登录"><span><strong>2.2 测试 SSH 登录</strong></span></a></h3><p>username：对应远程服务器的用户。</p><p>server_ip：对应远程服务器的IP地址。</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ssh</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">username@server_ip</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如果服务器使用的不是22端口，则可以使用 <code>-p 端口</code></p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ssh</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">username@server_ip</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">10010</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如果配置正确，应直接登录，无需密码。</p><hr><h3 id="_2-3-可选-禁用密码登录-增强安全" tabindex="-1"><a class="header-anchor" href="#_2-3-可选-禁用密码登录-增强安全"><span><strong>2.3 可选：禁用密码登录（增强安全）</strong></span></a></h3><p>编辑 <code>/etc/ssh/sshd_config</code>：</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">nano</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/etc/ssh/sshd_config</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>修改：</p><div class="language-ini line-numbers-mode" data-ext="ini" data-title="ini"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">PasswordAuthentication</span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">no</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">PubkeyAuthentication</span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">yes</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>重启 SSH 服务：</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">systemctl</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">restart</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">sshd</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><h2 id="_3-使用-ssh-密钥连接-github" tabindex="-1"><a class="header-anchor" href="#_3-使用-ssh-密钥连接-github"><span><strong>3. 使用 SSH 密钥连接 GitHub</strong></span></a></h2><h3 id="_3-1-添加公钥到-github" tabindex="-1"><a class="header-anchor" href="#_3-1-添加公钥到-github"><span><strong>3.1 添加公钥到 GitHub</strong></span></a></h3><ol><li><strong>复制公钥</strong>：<div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">cat</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">~/.ssh/id_rsa.pub</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><strong>登录 GitHub → Settings → SSH and GPG keys → New SSH key</strong><ul><li><strong>Title</strong>: 自定义名称（如 <code>My Laptop</code>）</li><li><strong>Key</strong>: 粘贴 <code>id_rsa.pub</code> 内容</li></ul></li></ol><h3 id="_3-2-测试-github-连接" tabindex="-1"><a class="header-anchor" href="#_3-2-测试-github-连接"><span><strong>3.2 测试 GitHub 连接</strong></span></a></h3><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ssh</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-T</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">git@github.com</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>成功会显示：</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>Hi</span><span class="space"> </span><span>username!</span><span class="space"> </span><span>You&#39;ve</span><span class="space"> </span><span>successfully</span><span class="space"> </span><span>authenticated...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_3-3-使用-ssh-克隆仓库" tabindex="-1"><a class="header-anchor" href="#_3-3-使用-ssh-克隆仓库"><span><strong>3.3 使用 SSH 克隆仓库</strong></span></a></h3><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">clone</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">git@github.com:username/repo.git</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>（替换 HTTPS 方式，避免每次输入密码）</p><hr><h2 id="_4-高级配置-可选" tabindex="-1"><a class="header-anchor" href="#_4-高级配置-可选"><span><strong>4. 高级配置（可选）</strong></span></a></h2><h3 id="_4-1-管理多个-ssh-密钥" tabindex="-1"><a class="header-anchor" href="#_4-1-管理多个-ssh-密钥"><span><strong>4.1 管理多个 SSH 密钥</strong></span></a></h3><p>编辑 <code>~/.ssh/config</code>：</p><div class="language-ini line-numbers-mode" data-ext="ini" data-title="ini"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">GitHub</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Host</span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">github.com</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">HostName</span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">github.com</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">User</span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">git</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">IdentityFile</span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">~/.ssh/id_rsa_github</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">公司服务器</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Host</span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">company-server</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">HostName</span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">server_ip</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">User</span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">deploy</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">IdentityFile</span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">~/.ssh/id_rsa_company</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>使用方式</strong>：<div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ssh</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">company-server</span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">代替</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">ssh</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">deploy@server_ip</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">clone</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">git@github.com:user/repo.git</span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">自动使用指定密钥</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_4-2-密钥加密-增加密码保护" tabindex="-1"><a class="header-anchor" href="#_4-2-密钥加密-增加密码保护"><span><strong>4.2 密钥加密（增加密码保护）</strong></span></a></h3><p>生成密钥时设置密码：</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ssh-keygen</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-t</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">rsa</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-C</span><span class="space"> </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">your_email@example.com</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>后续可使用 <code>ssh-add</code> 缓存密码（临时免输入）：</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">eval</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">$(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ssh-agent</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">启动</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">agent</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ssh-add</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">~/.ssh/id_rsa</span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">添加密钥（需输入密码）</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="_5-常见问题排查" tabindex="-1"><a class="header-anchor" href="#_5-常见问题排查"><span><strong>5. 常见问题排查</strong></span></a></h2><h3 id="_5-1-权限问题" tabindex="-1"><a class="header-anchor" href="#_5-1-权限问题"><span><strong>5.1 权限问题</strong></span></a></h3><ul><li><strong><code>.ssh</code> 目录权限必须为 <code>700</code></strong>：<div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chmod</span><span class="space"> </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">700</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">~/.ssh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><strong><code>authorized_keys</code> 权限必须为 <code>600</code></strong>：<div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chmod</span><span class="space"> </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">600</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">~/.ssh/authorized_keys</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><h3 id="_5-2-连接失败" tabindex="-1"><a class="header-anchor" href="#_5-2-连接失败"><span><strong>5.2 连接失败</strong></span></a></h3><ul><li><strong>检查 SSH 服务状态</strong>：<div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">systemctl</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">status</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">sshd</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><strong>查看详细错误</strong>：<div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ssh</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-v</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">username@server_ip</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><h3 id="_5-3-github-认证失败" tabindex="-1"><a class="header-anchor" href="#_5-3-github-认证失败"><span><strong>5.3 GitHub 认证失败</strong></span></a></h3><ul><li><strong>确认公钥已正确添加</strong>。</li><li><strong>测试连接</strong>：<div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ssh</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-T</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">git@github.com</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><hr><h2 id="_6-总结" tabindex="-1"><a class="header-anchor" href="#_6-总结"><span><strong>6. 总结</strong></span></a></h2><table><thead><tr><th><strong>场景</strong></th><th><strong>操作</strong></th></tr></thead><tbody><tr><td><strong>生成密钥对</strong></td><td><code>ssh-keygen -t rsa -b 4096</code></td></tr><tr><td><strong>上传公钥到服务器</strong></td><td><code>ssh-copy-id</code> 或手动复制</td></tr><tr><td><strong>GitHub SSH 连接</strong></td><td>添加公钥到 GitHub → 测试 <code>ssh -T</code></td></tr><tr><td><strong>多密钥管理</strong></td><td>配置 <code>~/.ssh/config</code></td></tr><tr><td><strong>增强安全性</strong></td><td>禁用密码登录 + 使用 Ed25519</td></tr></tbody></table><p>通过 SSH 密钥认证，可实现：</p><ul><li><strong>免密登录 Linux 服务器</strong></li><li><strong>安全访问 Git Hub</strong></li><li><strong>避免密码泄露风险</strong></li></ul><p>建议定期更换密钥（如每年一次），并妥善保管私钥！</p>`,73)]))}const c=a(l,[["render",p],["__file","index.html.vue"]]),r=JSON.parse('{"path":"/article/m6hxcaox/","title":"SSH秘钥管理指南","lang":"zh-CN","frontmatter":{"title":"SSH秘钥管理指南","createTime":"2025/05/02 11:24:48","permalink":"/article/m6hxcaox/","tags":["手册","其他"],"description":"——本地生成密钥对、访问 Linux 服务器及 GitHub 1. 生成 SSH 密钥对（Windows/Linux/macOS） 1.1 生成 RSA 密钥对（建议） -t rsa：指定密钥类型为 RSA。 -C \\"your_email@example.com\\"：注释（可选，用于标识密钥）。 执行后： 默认保存路径： Windows: C:\\\\User...","head":[["meta",{"property":"og:url","content":"https://blog.gaohan.asia/article/m6hxcaox/"}],["meta",{"property":"og:site_name","content":"云泽汇码"}],["meta",{"property":"og:title","content":"SSH秘钥管理指南"}],["meta",{"property":"og:description","content":"——本地生成密钥对、访问 Linux 服务器及 GitHub 1. 生成 SSH 密钥对（Windows/Linux/macOS） 1.1 生成 RSA 密钥对（建议） -t rsa：指定密钥类型为 RSA。 -C \\"your_email@example.com\\"：注释（可选，用于标识密钥）。 执行后： 默认保存路径： Windows: C:\\\\User..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-05-02T04:33:46.000Z"}],["meta",{"property":"article:tag","content":"手册"}],["meta",{"property":"article:tag","content":"其他"}],["meta",{"property":"article:modified_time","content":"2025-05-02T04:33:46.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"SSH秘钥管理指南\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-05-02T04:33:46.000Z\\",\\"author\\":[]}"]]},"headers":[],"readingTime":{"minutes":2.83,"words":850},"git":{"updatedTime":1746160426000,"contributors":[{"name":"yunze","username":"yunze","email":"56632502+YUNZE-GH@users.noreply.github.com","commits":1,"avatar":"https://avatars.githubusercontent.com/yunze?v=4","url":"https://github.com/yunze"}]},"autoDesc":true,"filePathRelative":"manual/304.SSH秘钥管理指南.md","categoryList":[{"id":"3c78b3","sort":10003,"name":"manual"}]}');export{c as comp,r as data};
